<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="支付宝">
    <link rel="apple-touch-icon" href="./icon-192.png">
    <link rel="manifest" href="./manifest.json">
    <title>余额宝</title>
    <link rel="stylesheet" href="style.css?v=20240611">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta property="og:title" content="支付宝" />
    <meta property="og:description" content="支付宝 - 让生活更简单，余额、签到、理财一站式体验。" />
    <meta property="og:image" content="./icon-512.png" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://roylmy.github.io/yuebao-app/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="支付宝" />
    <meta name="twitter:description" content="支付宝 - 让生活更简单，余额、签到、理财一站式体验。" />
    <meta name="twitter:image" content="./icon-512.png" />
    <meta name="apple-mobile-web-app-title" content="支付宝" />
</head>
<body>
    <!-- 主页面容器 -->
    <div id="mainContainer">
        <!-- 主页面 -->
        <div id="homePage" class="page active">
            <!-- 头部导航 -->
            <div class="header">
                <div class="back-btn">
                    <div class="back-arrow"></div>
                </div>
                <div class="title">
                    <h1>余额宝</h1>
                    <div class="security-badge">
                        <div class="shield-icon"></div>
                        <span>资金安全</span>
                    </div>
                </div>
                <div class="menu-btn">
                    <div class="menu-dots"></div>
                </div>
            </div>

            <!-- 可滚动内容区域 -->
            <div class="scrollable-content">
                <!-- 余额卡片 -->
                <div class="balance-card">
                    <div class="balance-header">
                        <span>总金额(元)</span>
                    </div>
                    <div class="balance-amount" id="balanceAmount">
                        <span class="number">4,247,586.88</span>
                        <div class="eye-icon" id="eyeToggle"></div>
                    </div>
                    <div class="balance-details">
                        <div class="available">
                            <span id="availableAmount">可用 <span class="number">4247586.88</span></span>
                        </div>
                        <div class="frozen">
                            <span>攒着 <span class="number">0.00</span></span>
                            <div class="add-btn">
                                <div class="plus-icon"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 收益信息 -->
                <div class="earnings-info">
                    <div class="earning-item">
                        <div class="label">
                            <span>昨日收益(元)</span>
                            <div class="info-icon"></div>
                        </div>
                        <div class="value orange" id="dailyEarning">
                            <span class="number">265.82</span>
                        </div>
                    </div>
                    <div class="earning-item">
                        <div class="label">累计收益(元)</div>
                        <div class="value" id="totalEarning">
                            <span class="number">386,534.67</span>
                        </div>
                    </div>
                    <div class="earning-item">
                        <div class="label">
                            <span>最高七日年化</span>
                            <div class="info-icon"></div>
                        </div>
                        <div class="value">1.9650%</div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="action-buttons">
                    <button class="btn-secondary" onclick="showPage('transferOutPage')">转出</button>
                    <button class="btn-primary active" onclick="showPage('transferInPage')">转入</button>
                </div>

                <!-- 定时转入 -->
                <div class="auto-transfer">
                    <div class="clock-icon"></div>
                    <span>定时转入</span>
                    <div class="arrow-right"></div>
                </div>

                <!-- 推广卡片 -->
                <div class="promo-card">
                    <button class="close-btn">
                        <div class="close-x"></div>
                    </button>
                    <div class="promo-content">
                        <div class="promo-text">
                            <h3>查看余额宝可用资金</h3>
                            <p>收益稳稳赚更多</p>
                            <div class="promo-tags">
                                <span class="tag">灵活取用</span>
                                <span class="tag">实时到账</span>
                            </div>
                        </div>
                        <div class="promo-image">
                            <div class="chart-icon"></div>
                        </div>
                    </div>
                    <button class="promo-btn">立即查看</button>
                </div>

                <!-- 周周宝模块 -->
                <div class="weekly-section">
                    <div class="section-header">
                        <span>周周宝</span>
                        <div class="more-link">
                            <span>追求稳稳多赚</span>
                            <div class="arrow-right"></div>
                        </div>
                    </div>
                    <div class="finance-products">
                        <div class="product-item">
                            <div class="product-title">7天理财</div>
                            <div class="product-rate">2.07%</div>
                            <div class="product-desc">近一年净值增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">60天理财</div>
                            <div class="product-rate">3.09%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">120天理财</div>
                            <div class="product-rate">3.00%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                    </div>
                </div>

                <!-- 稳健理财模块 -->
                <div class="stable-finance-section">
                    <div class="section-header">
                        <span>稳健理财</span>
                        <div class="attention">
                            <span>超80万人关注</span>
                            <div class="arrow-right"></div>
                        </div>
                    </div>
                    <div class="finance-products">
                        <div class="product-item">
                            <div class="product-title">7天理财</div>
                            <div class="product-rate">2.07%</div>
                            <div class="product-desc">近一年净值增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">60天理财</div>
                            <div class="product-rate">3.09%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">120天理财</div>
                            <div class="product-rate">3.00%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                    </div>
                </div>

                <!-- 底部导航 -->
                <div class="bottom-nav">
                    <div class="nav-item">
                        <div class="nav-icon tree-nav"></div>
                        <span>蚂蚁树</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon money-nav"></div>
                        <span>钱管家</span>
                    </div>
                    <div class="nav-item active">
                        <div class="nav-icon card-nav"></div>
                        <span>闲钱多赚</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon briefcase-nav"></div>
                        <span>活钱理财</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon grid-nav"></div>
                        <span>更多</span>
                    </div>
                </div>

                <!-- 闲置资金升级模块 -->
                <div class="money-upgrade-section">
                    <h3>你的闲置资金有升级机会</h3>
                    <p>成立以来从未亏损 追求比余额宝赚更多</p>
                    
                    <div class="upgrade-content">
                        <div class="upgrade-tip">钱放这里，历史赚更多</div>
                        <div class="product-comparison">
                            <div class="product-box yuebao">
                                <div class="product-name">余额宝</div>
                                <div class="risk-level">低风险</div>
                            </div>
                            <div class="upgrade-arrow"></div>
                            <div class="product-box active-money">
                                <div class="product-name">活钱理财</div>
                                <div class="risk-level">低风险</div>
                            </div>
                        </div>
                        <div class="product-desc">余额宝同类，历史日日正收益</div>
                    </div>
                    
                    <div class="zero-money-section">
                        <div class="zero-money-title">零钱小金库</div>
                        <div class="zero-money-desc">追求收益升级好选择</div>
                        <button class="check-btn">去看看</button>
                    </div>
                </div>

                <!-- 体验金模块 -->
                <div class="experience-section">
                    <div class="experience-header">
                        <h3>领免费体验金，收益奖励都归你</h3>
                        <p>每天都能领体验金</p>
                    </div>
                    <div class="experience-rewards horizontal-scroll">
                        <div class="daily-item signed" id="signDay1">
                            <div class="daily-amount">+10</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第1天</div>
                            <div class="sign-status">已签到</div>
                        </div>
                        <div class="daily-item" id="signDay2">
                            <div class="daily-amount">+20</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第2天</div>
                        </div>
                        <div class="daily-item" id="signDay3">
                            <div class="daily-amount">+30</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第3天</div>
                        </div>
                        <div class="daily-item" id="signDay4">
                            <div class="daily-amount">+40</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第4天</div>
                        </div>
                        <div class="daily-item" id="signDay5">
                            <div class="daily-amount">+50</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第5天</div>
                        </div>
                    </div>
                    <div class="sign-btn-wrap">
                        <button id="signBtn" class="sign-btn">立即签到</button>
                    </div>
                </div>

                <!-- 底部占位，确保内容可以完全滚动 -->
                <div class="bottom-spacer"></div>
            </div>
        </div>

        <!-- 转入页面 -->
        <div id="transferInPage" class="page">
            <div class="header">
                <div class="back-btn" onclick="showPage('homePage')">
                    <div class="back-arrow"></div>
                </div>
                <div class="title">
                    <h1>转入余额宝</h1>
                    <div class="security-badge">
                        <div class="shield-icon"></div>
                        <span>资金安全</span>
                    </div>
                </div>
                <div class="menu-btn">
                    <span class="rules-text">交易规则</span>
                </div>
            </div>

            <div class="deposit-content">
                <div class="rate-info">
                    <div class="rate-item">
                        <span>可用</span>
                        <div class="rate-value">七日年化1.1450%</div>
                        <div class="rate-line"></div>
                    </div>
                    <div class="rate-item">
                        <span>攒着</span>
                        <div class="rate-value highlight">最高七日年化1.3730%</div>
                        <div class="rate-tag">收益更高</div>
                    </div>
                </div>

                <div class="bank-select">
                    <div class="bank-info">
                        <div class="bank-icon icbc"></div>
                        <div class="bank-name">中国工商银行(1004)</div>
                    </div>
                    <div class="bank-tip">银行卡转入资金可免费转回银行卡</div>
                    <div class="arrow-right"></div>
                </div>

                <div class="amount-input">
                    <div class="amount-label">转入金额</div>
                    <div class="amount-field">
                        <span class="currency">¥</span>
                        <input type="text" placeholder="转入无限额" class="amount-value" id="depositAmount" />
                    </div>
                </div>

                <div class="quick-amounts">
                    <div class="quick-amount">50000</div>
                    <div class="quick-amount">100000</div>
                    <div class="quick-amount">200000</div>
                </div>

                <div class="safe-tip">转入国寿安保货币</div>
            </div>

            <div class="keypad">
                <div class="keypad-row">
                    <div class="key">1</div>
                    <div class="key">2</div>
                    <div class="key">3</div>
                    <div class="key delete"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJNMjEgNEg4bC03IDggNyA4aDEzYTIgMiAwIDAgMCAyLTJWNmEyIDIgMCAwIDAtMi0yeiIvPjxsaW5lIHgxPSIxOCIgeTE9IjkiIHgyPSIxMiIgeTI9IjE1Ii8+PGxpbmUgeDE9IjEyIiB5MT0iOSIgeDI9IjE4IiB5Mj0iMTUiLz48L3N2Zz4=" /></div>
                </div>
                <div class="keypad-row">
                    <div class="key">4</div>
                    <div class="key">5</div>
                    <div class="key">6</div>
                    <div class="key confirm">转入</div>
                </div>
                <div class="keypad-row">
                    <div class="key">7</div>
                    <div class="key">8</div>
                    <div class="key">9</div>
                </div>
                <div class="keypad-row">
                    <div class="key">0</div>
                    <div class="key">.</div>
                </div>
            </div>
        </div>

        <!-- 转出页面 -->
        <div id="transferOutPage" class="page">
            <div class="header">
                <div class="back-btn" onclick="showPage('homePage')">
                    <div class="back-arrow"></div>
                </div>
                <div class="title">
                    <h1>转出</h1>
                    <div class="security-badge">
                        <div class="shield-icon"></div>
                        <span>资金安全</span>
                    </div>
                </div>
                <div class="menu-btn">
                    <span class="rules-text">交易规则</span>
                </div>
            </div>

            <div class="withdraw-content">
                <div class="tabs">
                    <div class="tab active">可用</div>
                    <div class="tab">攒着</div>
                </div>

                <div class="bank-select">
                    <div class="bank-info">
                        <div class="bank-icon icbc"></div>
                        <div class="bank-name">中国工商银行(9080)</div>
                        <div class="bank-tag">快捷</div>
                    </div>
                    <div class="arrow-right"></div>
                </div>

                <div class="amount-input">
                    <div class="amount-label">转出金额</div>
                    <div class="amount-field">
                        <span class="currency">¥</span>
                        <input type="text" placeholder="可转出到卡 4,247,586.88 元" class="amount-value" id="withdrawAmount" />
                    </div>
                </div>

                <div class="upgrade-card">
                    <div class="upgrade-text">
                        <div class="upgrade-title">对当前收益不满意？试试收益升级</div>
                        <div class="upgrade-desc">持有60天，追求收益提升103%</div>
                    </div>
                    <button class="upgrade-btn">去升级</button>
                    <div class="upgrade-chart">
                        <div class="chart-before">
                            <div class="chart-label">你持有的</div>
                        </div>
                        <div class="chart-arrow"></div>
                        <div class="chart-after">
                            <div class="chart-label">追求提升103%</div>
                        </div>
                    </div>
                </div>

                <div class="withdraw-method">
                    <div class="method-title">转出方式</div>
                    <div class="method-options">
                        <label class="method-option">
                            <input type="radio" name="withdrawMethod" checked />
                            <div class="option-content">
                                <div class="option-title">快速到账</div>
                                <div class="option-desc">预计2小时内到账，每日限额1万元</div>
                            </div>
                        </label>
                        <label class="method-option">
                            <input type="radio" name="withdrawMethod" />
                            <div class="option-content">
                                <div class="option-title">普通到账</div>
                                <div class="option-desc">预计<span id="dynamicDate"></span> (1天后) 23:59前到账，无限额，<span id="dynamicToday"></span>仍有收益</div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <div class="keypad">
                <div class="keypad-row">
                    <div class="key">1</div>
                    <div class="key">2</div>
                    <div class="key">3</div>
                    <div class="key delete"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJNMjEgNEg4bC03IDggNyA4aDEzYTIgMiAwIDAgMCAyLTJWNmEyIDIgMCAwIDAtMi0yeiIvPjxsaW5lIHgxPSIxOCIgeTE9IjkiIHgyPSIxMiIgeTI9IjE1Ii8+PGxpbmUgeDE9IjEyIiB5MT0iOSIgeDI9IjE4IiB5Mj0iMTUiLz48L3N2Zz4=" /></div>
                </div>
                <div class="keypad-row">
                    <div class="key">4</div>
                    <div class="key">5</div>
                    <div class="key">6</div>
                    <div class="key confirm">转出</div>
                </div>
                <div class="keypad-row">
                    <div class="key">7</div>
                    <div class="key">8</div>
                    <div class="key">9</div>
                </div>
                <div class="keypad-row">
                    <div class="key">0</div>
                    <div class="key">.</div>
                </div>
            </div>

            <div class="footer-text">
                余额宝对应货币基金销售服务由蚂蚁基金提供
                <br />
                市场有风险，投资需谨慎
            </div>

            <div class="other-withdraw">
                <a href="#" class="other-link">转出给他人</a>
            </div>
        </div>
    </div>

    <script src="./main.js?v=20240608"></script>
    <script>
    // 页面切换函数
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        document.getElementById(pageId).classList.add('active');
    }

    // 眼睛图标切换功能
    const eyeToggle = document.getElementById('eyeToggle');
    const balanceAmount = document.getElementById('balanceAmount');
    const availableAmount = document.getElementById('availableAmount');
    const dailyEarning = document.getElementById('dailyEarning');
    const totalEarning = document.getElementById('totalEarning');

    eyeToggle.addEventListener('click', function() {
        eyeToggle.classList.toggle('hidden');
        balanceAmount.classList.toggle('hidden');
        availableAmount.classList.toggle('hidden');
        dailyEarning.classList.toggle('hidden');
        totalEarning.classList.toggle('hidden');
    });

    // 签到横滑与特效
    function setSignScroll() {
        const rewards = document.querySelector('.experience-rewards');
        if (rewards) {
            rewards.style.overflowX = 'auto';
            rewards.style.display = 'flex';
            rewards.style.gap = '12px';
            rewards.style.scrollSnapType = 'x mandatory';
            rewards.querySelectorAll('.daily-item').forEach(item => {
                item.style.minWidth = '90px';
                item.style.scrollSnapAlign = 'center';
            });
        }
    }
    setSignScroll();

    // 签到按钮逻辑
    const signBtn = document.getElementById('signBtn');
    let signed = false;
    signBtn && signBtn.addEventListener('click', function() {
        if (signed) return;
        signed = true;
        const today = new Date().getDay();
        const item = document.getElementById('signDay' + (today === 0 ? 7 : today));
        if (item) {
            item.classList.add('signed');
            item.innerHTML = '<div class="daily-amount">已签到</div><div class="coin-small"></div><div class="day-label">今日</div>';
            item.style.background = 'linear-gradient(135deg,#ffecd2 0%,#fcb69f 100%)';
            item.style.color = '#ff6b35';
            item.style.transform = 'scale(1.08)';
            setTimeout(()=>{item.style.transform='scale(1)';},400);
        }
        signBtn.textContent = '已签到';
        signBtn.disabled = true;
    });

    // 动态设置转出页面时间
    function updateDynamicTimes() {
        const now = new Date();
        const tomorrow = new Date(now);
        tomorrow.setDate(now.getDate() + 1);
        
        // 格式化日期
        const formatDate = (date) => {
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const hours = date.getHours();
            const minutes = date.getMinutes();
            return {
                month,
                day,
                hours: hours.toString().padStart(2, '0'),
                minutes: minutes.toString().padStart(2, '0')
            };
        };

        const nowFormat = formatDate(now);
        const tomorrowFormat = formatDate(tomorrow);

        // 更新到账时间显示
        const methodOptions = document.querySelector('.method-options');
        if (methodOptions) {
            const fastOption = methodOptions.querySelector('.method-option:first-child .option-desc');
            const normalOption = methodOptions.querySelector('.method-option:last-child .option-desc');
            
            if (fastOption) {
                fastOption.textContent = `预计${nowFormat.hours}:${nowFormat.minutes}前到账，每日限额1万元`;
            }
            
            if (normalOption) {
                normalOption.textContent = `预计${tomorrowFormat.month}月${tomorrowFormat.day}日23:59前到账，无限额，${nowFormat.month}月${nowFormat.day}日仍有收益`;
            }
        }
        
        // 更新今日收益时间
        const todayEarnings = document.getElementById('todayEarnings');
        if (todayEarnings) {
            if (nowFormat.hours >= 23) {
                todayEarnings.textContent = '已结算';
            } else {
                todayEarnings.textContent = '预计23:00后可查';
            }
        }
    }

    // 数字键盘功能
    function setupKeypad() {
        const depositAmount = document.getElementById('depositAmount');
        const withdrawAmount = document.getElementById('withdrawAmount');
        const keypadButtons = document.querySelectorAll('.key');
        let currentInput = null;

        // 设置输入框点击事件
        depositAmount && depositAmount.addEventListener('focus', () => {
            currentInput = depositAmount;
        });

        withdrawAmount && withdrawAmount.addEventListener('focus', () => {
            currentInput = withdrawAmount;
        });

        // 设置数字键盘点击事件
        keypadButtons.forEach(key => {
            key.addEventListener('click', () => {
                if (!currentInput) {
                    currentInput = document.querySelector('.page.active .amount-value');
                }
                
                if (currentInput) {
                    if (key.classList.contains('delete')) {
                        // 删除键功能
                        currentInput.value = currentInput.value.slice(0, -1);
                    } else if (key.classList.contains('confirm')) {
                        // 确认键功能
                        console.log('确认转账：', currentInput.value);
                    } else {
                        const digit = key.textContent;
                        // 处理小数点
                        if (digit === '.' && currentInput.value.includes('.')) {
                            return;
                        }
                        // 限制小数点后两位
                        if (currentInput.value.includes('.') && 
                            currentInput.value.split('.')[1]?.length >= 2) {
                            return;
                        }
                        currentInput.value += digit;
                    }
                }
            });
        });

        // 快速金额点击
        const quickAmounts = document.querySelectorAll('.quick-amount');
        quickAmounts.forEach(amount => {
            amount.addEventListener('click', () => {
                if (!currentInput) {
                    currentInput = document.querySelector('.page.active .amount-value');
                }
                if (currentInput) {
                    currentInput.value = amount.textContent;
                }
            });
        });
    }

    // 页面加载完成后初始化数字键盘
    document.addEventListener('DOMContentLoaded', function() {
        setupKeypad();
        updateDynamicTimes();
        setInterval(updateDynamicTimes, 60000);
    });
    </script>
</body>
</html>