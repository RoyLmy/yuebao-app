<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="余额宝">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="manifest" href="manifest.json">
    <title>余额宝</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 主页面容器 -->
    <div id="mainContainer">
        <!-- 主页面 -->
        <div id="homePage" class="page active">
            <!-- 头部导航 -->
            <div class="header">
                <div class="back-btn">
                    <div class="back-arrow"></div>
                </div>
                <div class="title">
                    <h1>余额宝</h1>
                    <div class="security-badge">
                        <div class="shield-icon"></div>
                        <span>资金安全</span>
                    </div>
                </div>
                <div class="menu-btn">
                    <div class="menu-dots"></div>
                </div>
            </div>

            <!-- 可滚动内容区域 -->
            <div class="scrollable-content">
                <!-- 余额卡片 -->
                <div class="balance-card">
                    <div class="balance-header">
                        <span>总金额(元)</span>
                        <div class="eye-icon" id="eyeToggle"></div>
                    </div>
                    <div class="balance-amount" id="balanceAmount" data-original="3,247,586.88">3,247,586.88</div>
                    <div class="balance-details">
                        <div class="available">
                            <span id="availableAmount" data-original="3247586.88">可用 3247586.88</span>
                        </div>
                        <div class="frozen">
                            <span>攒着 0.00</span>
                            <div class="add-btn">
                                <div class="plus-icon"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 收益信息 -->
                <div class="earnings-info">
                    <div class="earning-item">
                        <div class="label">
                            <span>昨日收益(元)</span>
                            <div class="info-icon"></div>
                        </div>
                        <div class="value orange" id="dailyEarning" data-original="165.82">165.82</div>
                    </div>
                    <div class="earning-item">
                        <div class="label">累计收益(元)</div>
                        <div class="value" id="totalEarning" data-original="286,534.67">286,534.67</div>
                    </div>
                    <div class="earning-item">
                        <div class="label">
                            <span>最高七日年化</span>
                            <div class="info-icon"></div>
                        </div>
                        <div class="value">1.9650%</div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="action-buttons">
                    <button class="btn-secondary" id="withdrawBtn">转出</button>
                    <button class="btn-primary active" id="depositBtn">转入</button>
                </div>

                <!-- 定时转入 -->
                <div class="auto-transfer">
                    <div class="clock-icon"></div>
                    <span>定时转入</span>
                    <div class="arrow-right"></div>
                </div>

                <!-- 推广卡片 -->
                <div class="promo-card">
                    <button class="close-btn">
                        <div class="close-x"></div>
                    </button>
                    <div class="promo-content">
                        <div class="promo-text">
                            <h3>查看余额宝可用资金</h3>
                            <p>收益稳稳赚更多</p>
                            <div class="promo-tags">
                                <span class="tag">灵活取用</span>
                                <span class="tag">实时到账</span>
                            </div>
                        </div>
                        <div class="promo-image">
                            <div class="chart-icon"></div>
                        </div>
                    </div>
                    <button class="promo-btn">立即查看</button>
                </div>

                <!-- 底部导航 -->
                <div class="bottom-nav">
                    <div class="nav-item">
                        <div class="nav-icon tree-nav"></div>
                        <span>蚂蚁树</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon money-nav"></div>
                        <span>钱管家</span>
                    </div>
                    <div class="nav-item active">
                        <div class="nav-icon card-nav"></div>
                        <span>闲钱多赚</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon briefcase-nav"></div>
                        <span>活钱理财</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon grid-nav"></div>
                        <span>更多</span>
                    </div>
                </div>

                <!-- 周周宝横幅 -->
                <div class="weekly-treasure">
                    <span>周周宝</span>
                    <div class="arrow-right-small">
                        <span>追求稳稳多赚</span>
                        <div class="arrow-right"></div>
                    </div>
                </div>

                <!-- 周周宝模块 -->
                <div class="weekly-section">
                    <div class="section-header">
                        <span>周周宝</span>
                        <div class="more-link">
                            <span>追求稳稳多赚</span>
                            <div class="arrow-right"></div>
                        </div>
                    </div>
                </div>

                <!-- 稳健理财模块 -->
                <div class="stable-finance-section">
                    <div class="section-header">
                        <span>稳健理财</span>
                        <div class="attention">
                            <span>超80万人关注</span>
                            <div class="arrow-right"></div>
                        </div>
                    </div>

                    <!-- 理财产品 -->
                    <div class="finance-products">
                        <div class="product-item">
                            <div class="product-title">7天理财</div>
                            <div class="product-rate">2.07%</div>
                            <div class="product-desc">近一年净值增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">60天理财</div>
                            <div class="product-rate">3.09%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">120天理财</div>
                            <div class="product-rate">3.00%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                    </div>
                </div>

                <!-- 种摇钱树模块 -->
                <div class="money-tree-section">
                    <div class="tree-header">
                        <h3>种摇钱树赚钱</h3>
                        <p>种的越多 赚的越多</p>
                    </div>
                    
                    <div class="tree-game">
                        <div class="reward-badge">
                            <div class="coin-icon"></div>
                            <span class="reward-text">你有一份奖励待领取</span>
                        </div>

                        <div class="tree-container">
                            <div class="tree-circle">
                                <div class="tree-icon"></div>
                            </div>
                        </div>

                        <div class="tree-actions">
                            <span class="action-text">玩法更丰富 奖励天天有</span>
                            <button class="tree-btn">去种树</button>
                        </div>
                    </div>
                </div>

                <!-- 体验金模块 -->
                <div class="experience-section">
                    <div class="experience-header">
                        <h3>领免费体验金，收益奖励都归你</h3>
                        <p>每天都能领体验金</p>
                    </div>
                    
                    <div class="experience-rewards">
                        <div class="main-reward">
                            <div class="reward-amount">+10</div>
                            <div class="coin-large"></div>
                        </div>

                        <div class="daily-rewards">
                            <div class="daily-item">
                                <div class="daily-amount">+10</div>
                                <div class="coin-small"></div>
                            </div>
                            <div class="daily-item">
                                <div class="daily-amount">+10</div>
                                <div class="coin-small"></div>
                            </div>
                            <div class="daily-item">
                                <div class="daily-amount">+10</div>
                                <div class="coin-small"></div>
                            </div>
                            <div class="daily-item">
                                <div class="daily-amount">+10</div>
                                <div class="coin-small"></div>
                            </div>
                        </div>
                    </div>

                    <div class="experience-progress">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <div class="progress-labels">
                            <span>立即签到</span>
                            <span>第2天</span>
                            <span>第3天</span>
                            <span>第4天</span>
                            <span>第5天</span>
                        </div>
                    </div>
                </div>

                <!-- 底部占位，确保内容可以完全滚动 -->
                <div class="bottom-spacer"></div>
            </div>
        </div>

        <!-- 转入页面 -->
        <div id="depositPage" class="page">
            <div class="header">
                <div class="back-btn">
                    <div class="back-arrow"></div>
                </div>
                <div class="title">
                    <h1>转入余额宝</h1>
                    <div class="security-badge">
                        <div class="shield-icon"></div>
                        <span>资金安全</span>
                    </div>
                </div>
                <div class="menu-btn">
                    <span class="rules-text">交易规则</span>
                </div>
            </div>

            <div class="deposit-content">
                <div class="rate-info">
                    <div class="rate-item">
                        <span>可用</span>
                        <div class="rate-value">七日年化1.1450%</div>
                        <div class="rate-line"></div>
                    </div>
                    <div class="rate-item">
                        <span>攒着</span>
                        <div class="rate-value highlight">最高七日年化1.3730%</div>
                        <div class="rate-tag">收益更高</div>
                    </div>
                </div>

                <div class="bank-select">
                    <div class="bank-info">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZjZiMzUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cmVjdCB4PSIyIiB5PSI0IiB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHJ4PSIyIi8+PHBhdGggZD0iTTEyIDR2MTYiLz48L3N2Zz4=" class="bank-icon" />
                        <div class="bank-name">中国工商银行(1004)</div>
                    </div>
                    <div class="bank-tip">银行卡转入资金可免费转回银行卡</div>
                    <div class="arrow-right"></div>
                </div>

                <div class="amount-input">
                    <div class="amount-label">转入金额</div>
                    <div class="amount-field">
                        <span class="currency">¥</span>
                        <input type="text" placeholder="转入无限额" class="amount-value" id="depositAmount" />
                    </div>
                </div>

                <div class="quick-amounts">
                    <div class="quick-amount">30000</div>
                    <div class="quick-amount">100000</div>
                    <div class="quick-amount">150000</div>
                </div>

                <div class="safe-tip">转入国寿安保货币</div>
            </div>

            <div class="keypad">
                <div class="keypad-row">
                    <div class="key">1</div>
                    <div class="key">2</div>
                    <div class="key">3</div>
                    <div class="key delete"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJNMjEgNEg4bC03IDggNyA4aDEzYTIgMiAwIDAgMCAyLTJWNmEyIDIgMCAwIDAtMi0yeiIvPjxsaW5lIHgxPSIxOCIgeTE9IjkiIHgyPSIxMiIgeTI9IjE1Ii8+PGxpbmUgeDE9IjEyIiB5MT0iOSIgeDI9IjE4IiB5Mj0iMTUiLz48L3N2Zz4=" /></div>
                </div>
                <div class="keypad-row">
                    <div class="key">4</div>
                    <div class="key">5</div>
                    <div class="key">6</div>
                    <div class="key confirm">转入</div>
                </div>
                <div class="keypad-row">
                    <div class="key">7</div>
                    <div class="key">8</div>
                    <div class="key">9</div>
                </div>
                <div class="keypad-row">
                    <div class="key">0</div>
                    <div class="key">.</div>
                </div>
            </div>
        </div>

        <!-- 转出页面 -->
        <div id="withdrawPage" class="page">
            <div class="header">
                <div class="back-btn">
                    <div class="back-arrow"></div>
                </div>
                <div class="title">
                    <h1>转出</h1>
                    <div class="security-badge">
                        <div class="shield-icon"></div>
                        <span>资金安全</span>
                    </div>
                </div>
                <div class="menu-btn">
                    <span class="rules-text">交易规则</span>
                </div>
            </div>

            <div class="withdraw-content">
                <div class="tabs">
                    <div class="tab active">可用</div>
                    <div class="tab">攒着</div>
                </div>

                <div class="bank-select">
                    <div class="bank-info">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDY2ZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cmVjdCB4PSIyIiB5PSI0IiB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHJ4PSIyIi8+PHBhdGggZD0iTTEyIDR2MTYiLz48L3N2Zz4=" class="bank-icon" />
                        <div class="bank-name">交通银行(9080)</div>
                        <div class="bank-tag">快捷</div>
                    </div>
                    <div class="arrow-right"></div>
                </div>

                <div class="amount-input">
                    <div class="amount-label">转出金额</div>
                    <div class="amount-field">
                        <span class="currency">¥</span>
                        <input type="text" placeholder="可转出到卡74,497.36元" class="amount-value" id="withdrawAmount" />
                    </div>
                </div>

                <div class="upgrade-card">
                    <div class="upgrade-text">
                        <div class="upgrade-title">对当前收益不满意？试试收益升级</div>
                        <div class="upgrade-desc">持有60天，追求收益提升103%</div>
                    </div>
                    <button class="upgrade-btn">去升级</button>
                    <div class="upgrade-chart">
                        <div class="chart-before">
                            <div class="chart-label">你持有的</div>
                        </div>
                        <div class="chart-arrow"></div>
                        <div class="chart-after">
                            <div class="chart-label">追求提升103%</div>
                        </div>
                    </div>
                </div>

                <div class="withdraw-method">
                    <div class="method-title">转出方式</div>
                    <div class="method-options">
                        <label class="method-option">
                            <input type="radio" name="withdrawMethod" checked />
                            <div class="option-content">
                                <div class="option-title">快速到账</div>
                                <div class="option-desc">预计2小时内到账，每日限额1万元</div>
                            </div>
                        </label>
                        <label class="method-option">
                            <input type="radio" name="withdrawMethod" />
                            <div class="option-content">
                                <div class="option-title">普通到账</div>
                                <div class="option-desc">预计06月04日 (1天后) 23:59前到账，无限额，06月03日仍有收益</div>
                            </div>
                        </label>
                    </div>
                </div>

                <button class="confirm-btn" disabled>确认转出</button>

                <div class="footer-text">
                    余额宝对应货币基金销售服务由蚂蚁基金提供
                    <br />
                    市场有风险，投资需谨慎
                </div>

                <div class="other-withdraw">
                    <a href="#" class="other-link">转出给他人</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 金额显示隐藏功能
        let isAmountHidden = false;
        
        function toggleAmountVisibility() {
            const balanceAmount = document.getElementById('balanceAmount');
            const availableAmount = document.getElementById('availableAmount');
            const dailyEarning = document.getElementById('dailyEarning');
            const totalEarning = document.getElementById('totalEarning');
            const withdrawAmount = document.getElementById('withdrawAmount');
            const eyeIcon = document.getElementById('eyeToggle');
            
            // 添加眨眼动画
            eyeIcon.classList.add('blinking');
            setTimeout(() => {
                eyeIcon.classList.remove('blinking');
            }, 200);
            
            if (isAmountHidden) {
                // 显示真实金额
                if (balanceAmount) balanceAmount.textContent = balanceAmount.dataset.original;
                if (availableAmount) availableAmount.textContent = '可用 ' + availableAmount.dataset.original;
                if (dailyEarning) dailyEarning.textContent = dailyEarning.dataset.original;
                if (totalEarning) totalEarning.textContent = totalEarning.dataset.original;
                if (withdrawAmount) withdrawAmount.placeholder = '可转出到卡74,497.36元';
                if (eyeIcon) {
                    eyeIcon.classList.remove('hidden');
                    eyeIcon.setAttribute('aria-label', '点击隐藏金额');
                }
            } else {
                // 隐藏金额
                if (balanceAmount) balanceAmount.textContent = '******';
                if (availableAmount) availableAmount.textContent = '可用 ******';
                if (dailyEarning) dailyEarning.textContent = '**';
                if (totalEarning) totalEarning.textContent = '******';
                if (withdrawAmount) withdrawAmount.placeholder = '可转出到卡 ******';
                if (eyeIcon) {
                    eyeIcon.classList.add('hidden');
                    eyeIcon.setAttribute('aria-label', '点击显示金额');
                }
            }
            
            isAmountHidden = !isAmountHidden;
        }
        
        // 页面切换功能
        function switchPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }
        
        // 转入转出按钮点击事件
        document.getElementById('withdrawBtn').addEventListener('click', function() {
            switchPage('withdrawPage');
        });
        
        document.getElementById('depositBtn').addEventListener('click', function() {
            switchPage('depositPage');
        });
        
        // 数字键盘输入功能
        function setupKeypad(inputId) {
            const amountInput = document.getElementById(inputId);
            if (!amountInput) return;
            
            document.querySelectorAll('.key').forEach(key => {
                key.addEventListener('click', function() {
                    if (this.classList.contains('delete')) {
                        amountInput.value = amountInput.value.slice(0, -1);
                    } else if (this.classList.contains('confirm')) {
                        // 处理转入/转出操作
                    } else {
                        const value = this.textContent;
                        if (value === '.' && amountInput.value.includes('.')) return;
                        if (value === '.' && !amountInput.value) {
                            amountInput.value = '0.';
                        } else {
                            amountInput.value += value;
                        }
                    }
                });
            });
        }
        
        // 快捷金额选择
        document.querySelectorAll('.quick-amount').forEach(btn => {
            btn.addEventListener('click', function() {
                const amountInput = document.querySelector('.page.active .amount-value');
                if (amountInput) {
                    amountInput.value = this.textContent;
                }
            });
        });
        
        // 返回按钮功能
        document.querySelectorAll('.back-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                switchPage('homePage');
            });
        });
        
        // 眼睛图标点击事件
        document.getElementById('eyeToggle').addEventListener('click', toggleAmountVisibility);
        
        // 金额区域点击事件
        document.getElementById('balanceAmount').addEventListener('click', toggleAmountVisibility);
        
        // 初始化数字键盘
        setupKeypad('depositAmount');
        setupKeypad('withdrawAmount');
        
        // 初始化显示主页面
        switchPage('homePage');

        // 签到功能
        function initSignIn() {
            const progressFill = document.querySelector('.progress-fill');
            const progressLabels = document.querySelectorAll('.progress-labels span');
            const mainReward = document.querySelector('.main-reward');
            const dailyItems = document.querySelectorAll('.daily-item');
            let isSignedIn = false;

            // 点击"立即签到"
            progressLabels[0].addEventListener('click', function() {
                if (isSignedIn) return;
                
                // 激活进度条
                progressFill.classList.add('active');
                
                // 激活第一个点
                progressLabels[0].classList.add('active');
                
                // 主奖励动画
                mainReward.classList.add('active');
                
                // 第一个每日奖励动画
                dailyItems[0].classList.add('active');
                
                // 移除动画类（为下次动画做准备）
                setTimeout(() => {
                    mainReward.classList.remove('active');
                    progressLabels[0].textContent = '已签到';
                    isSignedIn = true;
                }, 1000);
            });
        }

        // 初始化所有功能
        document.addEventListener('DOMContentLoaded', function() {
            // 现有的初始化代码
            
            // 初始化签到功能
            initSignIn();
        });

        // 注册Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker 注册成功:', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker 注册失败:', error);
                    });
            });
        }
    </script>
</body>
</html>