<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="支付宝">
    <link rel="apple-touch-icon" href="./icon-192.png">
    <link rel="manifest" href="./manifest.json">
    <title>支付宝</title>
    <link rel="stylesheet" href="./style.css?v=20240608">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta property="og:title" content="支付宝" />
    <meta property="og:description" content="支付宝 - 让生活更简单，余额、签到、理财一站式体验。" />
    <meta property="og:image" content="./icon-512.png" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://roylmy.github.io/yuebao-app/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="支付宝" />
    <meta name="twitter:description" content="支付宝 - 让生活更简单，余额、签到、理财一站式体验。" />
    <meta name="twitter:image" content="./icon-512.png" />
    <meta name="apple-mobile-web-app-title" content="支付宝" />
</head>
<body>
    <!-- 主页面容器 -->
    <div id="mainContainer">
        <!-- 主页面 -->
        <div id="homePage" class="page active">
            <!-- 头部导航 -->
            <div class="header">
                <div class="back-btn">
                    <div class="back-arrow"></div>
                </div>
                <div class="title">
                    <h1>余额宝</h1>
                    <div class="security-badge">
                        <div class="shield-icon"></div>
                        <span>资金安全</span>
                    </div>
                </div>
                <div class="menu-btn">
                    <div class="menu-dots"></div>
                </div>
            </div>

            <!-- 可滚动内容区域 -->
            <div class="scrollable-content">
                <!-- 余额卡片 -->
                <div class="balance-card">
                    <div class="balance-header">
                        <span>总金额(元)</span>
                        <div class="eye-icon" id="eyeToggle"></div>
                    </div>
                    <div class="balance-amount" id="balanceAmount" data-original="4,247,586.88">4,247,586.88</div>
                    <div class="balance-details">
                        <div class="available">
                            <span id="availableAmount" data-original="4247586.88">可用 4247586.88</span>
                        </div>
                        <div class="frozen">
                            <span>攒着 0.00</span>
                            <div class="add-btn">
                                <div class="plus-icon"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 收益信息 -->
                <div class="earnings-info">
                    <div class="earning-item">
                        <div class="label">
                            <span>昨日收益(元)</span>
                            <div class="info-icon"></div>
                        </div>
                        <div class="value orange" id="dailyEarning" data-original="265.82">265.82</div>
                    </div>
                    <div class="earning-item">
                        <div class="label">累计收益(元)</div>
                        <div class="value" id="totalEarning" data-original="386,534.67">386,534.67</div>
                    </div>
                    <div class="earning-item">
                        <div class="label">
                            <span>最高七日年化</span>
                            <div class="info-icon"></div>
                        </div>
                        <div class="value">1.9650%</div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="action-buttons">
                    <button class="btn-secondary" onclick="showPage('transferOutPage')">转出</button>
                    <button class="btn-primary active" onclick="showPage('transferInPage')">转入</button>
                </div>

                <!-- 定时转入 -->
                <div class="auto-transfer">
                    <div class="clock-icon"></div>
                    <span>定时转入</span>
                    <div class="arrow-right"></div>
                </div>

                <!-- 推广卡片 -->
                <div class="promo-card">
                    <button class="close-btn">
                        <div class="close-x"></div>
                    </button>
                    <div class="promo-content">
                        <div class="promo-text">
                            <h3>查看余额宝可用资金</h3>
                            <p>收益稳稳赚更多</p>
                            <div class="promo-tags">
                                <span class="tag">灵活取用</span>
                                <span class="tag">实时到账</span>
                            </div>
                        </div>
                        <div class="promo-image">
                            <div class="chart-icon"></div>
                        </div>
                    </div>
                    <button class="promo-btn">立即查看</button>
                </div>

                <!-- 底部导航 -->
                <div class="bottom-nav">
                    <div class="nav-item">
                        <div class="nav-icon tree-nav"></div>
                        <span>蚂蚁树</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon money-nav"></div>
                        <span>钱管家</span>
                    </div>
                    <div class="nav-item active">
                        <div class="nav-icon card-nav"></div>
                        <span>闲钱多赚</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon briefcase-nav"></div>
                        <span>活钱理财</span>
                    </div>
                    <div class="nav-item">
                        <div class="nav-icon grid-nav"></div>
                        <span>更多</span>
                    </div>
                </div>

                <!-- 周周宝横幅 -->
                <div class="weekly-treasure">
                    <span>周周宝</span>
                    <div class="arrow-right-small">
                        <span>追求稳稳多赚</span>
                        <div class="arrow-right"></div>
                    </div>
                </div>

                <!-- 周周宝模块 -->
                <div class="weekly-section">
                    <div class="section-header">
                        <span>周周宝</span>
                        <div class="more-link">
                            <span>追求稳稳多赚</span>
                            <div class="arrow-right"></div>
                        </div>
                    </div>
                </div>

                <!-- 稳健理财模块 -->
                <div class="stable-finance-section">
                    <div class="section-header">
                        <span>稳健理财</span>
                        <div class="attention">
                            <span>超80万人关注</span>
                            <div class="arrow-right"></div>
                        </div>
                    </div>

                    <!-- 理财产品 -->
                    <div class="finance-products">
                        <div class="product-item">
                            <div class="product-title">7天理财</div>
                            <div class="product-rate">2.07%</div>
                            <div class="product-desc">近一年净值增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">60天理财</div>
                            <div class="product-rate">3.09%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                        <div class="product-item">
                            <div class="product-title">120天理财</div>
                            <div class="product-rate">3.00%</div>
                            <div class="product-desc">成立以来年化增长</div>
                        </div>
                    </div>
                </div>

                <!-- 替换种树模块为余钱升级模块 -->
                <div class="money-upgrade-section">
                    <div class="upgrade-header">
                        <h3>你的闲置资金有升级机会</h3>
                        <p>成立以来从未亏损 追求比余额宝赚更多</p>
                    </div>
                    
                    <div class="upgrade-content">
                        <div class="upgrade-tip">钱放这里，历史赚更多</div>
                        
                        <div class="product-comparison">
                            <div class="product-box yuebao">
                                <div class="product-name">余额宝</div>
                                <div class="risk-level">低风险</div>
                            </div>
                            <div class="upgrade-arrow"></div>
                            <div class="product-box active-money">
                                <div class="product-name">活钱理财</div>
                                <div class="risk-level">低风险</div>
                            </div>
                        </div>
                        
                        <div class="product-desc">余额宝同类，历史日日正收益</div>
                    </div>
                    
                    <div class="zero-money-section">
                        <div class="zero-money-title">零钱小金库</div>
                        <div class="zero-money-desc">追求收益升级好选择</div>
                        <button class="check-btn">去看看</button>
                    </div>
                </div>

                <!-- 体验金模块 -->
                <div class="experience-section">
                    <div class="experience-header">
                        <h3>领免费体验金，收益奖励都归你</h3>
                        <p>每天都能领体验金</p>
                    </div>
                    <div class="experience-rewards horizontal-scroll">
                        <div class="daily-item signed" id="signDay1">
                            <div class="daily-amount">+10</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第1天</div>
                            <div class="sign-status">已签到</div>
                        </div>
                        <div class="daily-item" id="signDay2">
                            <div class="daily-amount">+20</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第2天</div>
                        </div>
                        <div class="daily-item" id="signDay3">
                            <div class="daily-amount">+30</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第3天</div>
                        </div>
                        <div class="daily-item" id="signDay4">
                            <div class="daily-amount">+40</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第4天</div>
                        </div>
                        <div class="daily-item" id="signDay5">
                            <div class="daily-amount">+50</div>
                            <div class="coin-small"></div>
                            <div class="day-label">第5天</div>
                        </div>
                    </div>
                    <div class="sign-btn-wrap"><button id="signBtn" class="sign-btn">立即签到</button></div>
                </div>

                <div class="experience-progress">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <div class="progress-labels">
                        <span>立即签到</span>
                        <span>第2天</span>
                        <span>第3天</span>
                        <span>第4天</span>
                        <span>第5天</span>
                    </div>
                </div>

                <!-- 底部占位，确保内容可以完全滚动 -->
                <div class="bottom-spacer"></div>
            </div>
        </div>

        <!-- 转入页面 -->
        <div id="transferInPage" class="page">
            <div class="back-btn" onclick="showPage('homePage')">
                <div class="back-arrow"></div>
            </div>
            <div class="title">
                <h1>转入余额宝</h1>
                <div class="security-badge">
                    <div class="shield-icon"></div>
                    <span>资金安全</span>
                </div>
            </div>

            <div class="bank-card">
                <div class="bank-icon icbc"></div>
                <div class="bank-info">
                    <div class="bank-name">工商银行储蓄卡(4392)</div>
                    <div class="bank-limit">单笔/日限额：5万</div>
                </div>
            </div>

            <div class="amount-input">
                <span class="currency">¥</span>
                <input type="number" placeholder="转入金额" />
            </div>

            <button class="confirm-btn" disabled>确认转入</button>

            <div class="footer-text">
                余额宝对应货币基金销售服务由蚂蚁基金提供
                <br />
                市场有风险，投资需谨慎
            </div>
        </div>

        <!-- 转出页面 -->
        <div id="transferOutPage" class="page">
            <div class="back-btn" onclick="showPage('homePage')">
                <div class="back-arrow"></div>
            </div>
            <div class="title">
                <h1>转出余额宝</h1>
            </div>

            <div class="bank-card">
                <div class="bank-icon icbc"></div>
                <div class="bank-info">
                    <div class="bank-name">工商银行储蓄卡(4392)</div>
                    <div class="bank-limit">单笔/日限额：5万</div>
                </div>
            </div>

            <div class="amount-input">
                <span class="currency">¥</span>
                <input type="number" placeholder="转出金额" />
            </div>

            <div class="transfer-info">
                <div class="info-row">
                    <span>今日收益</span>
                    <span class="highlight" id="todayEarnings">预计23:00后可查</span>
                </div>
                <div class="info-row">
                    <span>到账时间</span>
                    <span class="highlight" id="arrivalTime">明天(1天后)</span>
                </div>
            </div>

            <button class="confirm-btn" disabled>确认转出</button>

            <div class="footer-text">
                余额宝对应货币基金销售服务由蚂蚁基金提供
                <br />
                市场有风险，投资需谨慎
            </div>
        </div>
    </div>

    <script src="./main.js?v=20240608"></script>
    <script>
    // 页面切换函数
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        document.getElementById(pageId).classList.add('active');
    }

    // 签到横滑与特效
    function setSignScroll() {
        const rewards = document.querySelector('.experience-rewards');
        if (rewards) {
            rewards.style.overflowX = 'auto';
            rewards.style.display = 'flex';
            rewards.style.gap = '12px';
            rewards.style.scrollSnapType = 'x mandatory';
            rewards.querySelectorAll('.daily-item').forEach(item => {
                item.style.minWidth = '90px';
                item.style.scrollSnapAlign = 'center';
            });
        }
    }
    setSignScroll();

    // 签到按钮逻辑
    const signBtn = document.getElementById('signBtn');
    let signed = false;
    signBtn && signBtn.addEventListener('click', function() {
        if (signed) return;
        signed = true;
        const today = new Date().getDay();
        const item = document.getElementById('signDay' + (today === 0 ? 7 : today));
        if (item) {
            item.classList.add('signed');
            item.innerHTML = '<div class="daily-amount">已签到</div><div class="coin-small"></div><div class="day-label">今日</div>';
            item.style.background = 'linear-gradient(135deg,#ffecd2 0%,#fcb69f 100%)';
            item.style.color = '#ff6b35';
            item.style.transform = 'scale(1.08)';
            setTimeout(()=>{item.style.transform='scale(1)';},400);
        }
        signBtn.textContent = '已签到';
        signBtn.disabled = true;
    });

    // 动态设置转出页面时间
    function updateDynamicTimes() {
        const now = new Date();
        const tomorrow = new Date(now);
        tomorrow.setDate(now.getDate() + 1);
        
        // 更新到账时间显示
        const arrivalTime = document.getElementById('arrivalTime');
        if (arrivalTime) {
            const month = tomorrow.getMonth() + 1;
            const date = tomorrow.getDate();
            arrivalTime.textContent = `${month}月${date}日(1天后)`;
        }
        
        // 更新今日收益时间
        const todayEarnings = document.getElementById('todayEarnings');
        if (todayEarnings) {
            const hours = now.getHours();
            if (hours >= 23) {
                todayEarnings.textContent = '已结算';
            } else {
                todayEarnings.textContent = '预计23:00后可查';
            }
        }
    }

    // 页面加载完成后更新时间
    document.addEventListener('DOMContentLoaded', function() {
        updateDynamicTimes();
        // 每分钟更新一次时间
        setInterval(updateDynamicTimes, 60000);
    });
    </script>
</body>
</html>